<table>
   <tr>
      <th>Docket Number</th>
      <th>Prosecutor(s)</th>
      <th>Defender</th>
      <th>Defendant(s)</th>
      <th>Charge(s)</th>
      <th>Judge(s)</th>
      <th>Witness(es)</th>
      <th>Court Appearances</th>
      <th>Indictment Number</th>
      <th>status</th>
      <th>stage</th>
      <th>next court date</th>
      <th>next court part</th>
      <th>release status</th>
      <th>arrest number</th>
      <th>office</th>
      <th>opened date</th>
      <th>closed date</th>
      <th>disposition date</th>
      <th>final disposition</th>
      <th>city disposition</th>
      <th>city disposition date</th>
      <th>county</th>
      <th>top sentence</th>
      <th>pro bono</th>
      <th>case type</th>
      <th>sentence</th>
      <th>law firm matter number</th>
      <th>school related</th>
      <th>warrant number</th>
      <th>court index</th>
      <th>probation issue</th>
      <th>probation request</th>
      <th>evaluation</th>
      <th>conflict check</th>
      <th>court forum</th>
      <th>practice</th>

      <th>Edit</th>
      <th>Delete</th>
   </tr>

   <% cases.each do |c| %>
      <tr>
         <td><%= link_to(c.docket_number, case_path(c)) %></td>
         <td><%= c.prosecuting_attorneys.map { |a| link_to(a.person.name, a) }.join(', ').html_safe %>
         <td><%= c.defense_attorneys.map { |a| link_to(a.person.name, a) }.join(', ').html_safe %>
         <td><%= c.defendants.map { |d| link_to(d.person.name, d) }.join(', ').html_safe %>
         <td><%= c.defendants.map { |d| d.defendant_charges }.flatten.map { |dc| link_to(dc.charge.name, dc.charge) }.join(', ').html_safe %>
         <td><%= c.judges.map { |j| link_to(j.person.name, j) }.join(', ').html_safe %>
         <td><%= c.witnesses.map { |w| link_to(w.person.name, w) }.join(', ').html_safe %>
         <td><%= c.court_appearances.map { |ca| link_to(ca.formatted_name, ca) }.join(', ').html_safe %>
         <td><%= c.indictment_number %></td>
         <td><%= c.status %></td>
         <td><%= c.stage %></td>
         <td><%= c.next_court_date %></td>
         <td><%= c.next_court_part %></td>
         <td><%= c.release_status %></td>
         <td><%= c.arrest_number %></td>
         <td><%= c.office %></td>
         <td><%= c.opened_date %></td>
         <td><%= c.closed_date %></td>
         <td><%= c.disposition_date %></td>
         <td><%= c.final_disposition %></td>
         <td><%= c.city_disposition %></td>
         <td><%= c.city_disposition_date %></td>
         <td><%= c.county %></td>
         <td><%= c.top_sentence %></td>
         <td><%= c.pro_bono %></td>
         <td><%= c.case_type %></td>
         <td><%= c.sentence %></td>
         <td><%= c.law_firm_matter_number %></td>
         <td><%= c.school_related %></td>
         <td><%= c.warrant_number %></td>
         <td><%= c.court_index %></td>
         <td><%= c.probation_issue %></td>
         <td><%= c.probation_request %></td>
         <td><%= c.evaluation %></td>
         <td><%= c.conflict_check %></td>
         <td><%= c.court_forum %></td>
         <td><%= c.practice %></td>

         <td><%= link_to 'Edit', edit_case_path(c) %></td>
         <td><%= link_to 'Delete', c, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
   <% end %>
</table>